# 常见问题解答 (FAQ)

## 安装和配置

### Q: 需要什么环境？
**A**:
- Python 3.8 或更高版本
- pip 包管理器
- 约50MB磁盘空间

### Q: 如何安装依赖？
**A**:
```bash
pip install -r requirements.txt
```

如果遇到权限问题：
```bash
pip install --user -r requirements.txt
```

### Q: baostock安装失败怎么办？
**A**:
尝试升级pip后重新安装：
```bash
pip install --upgrade pip
pip install baostock
```

---

## 使用问题

### Q: 股票代码应该怎么输入？
**A**: 支持多种格式：
- `600000` - 系统自动识别为上海股票
- `sh.600000` - 标准格式
- `000001` - 系统自动识别为深圳股票
- `sz.000001` - 标准格式
- `300750` - 创业板自动识别

### Q: 最小投资金额是多少？
**A**: 建议至少10,000元以上。太少的金额可能导致某些订单不足一手（100股）。

### Q: 为什么提示"未找到涨停记录"？
**A**: 可能的原因：
1. 该股票最近60天内确实没有涨停
2. 该股票为ST股票，涨停阈值不同
3. 网络问题导致数据获取失败

**解决方案**: 选择其他最近有涨停的股票

### Q: 系统会自动下单吗？
**A**: 不会！系统分为两步：
1. **分析阶段**: 只生成订单计划，不会真实下单
2. **执行阶段**: 需要你手动点击"执行订单"按钮

默认使用模拟模式，不会真实下单。

---

## 策略问题

### Q: 为什么是7:3的仓位分配？
**A**: 这是经验比例：
- 70%资金投在相对安全的0.5-0.618区间
- 30%资金投在更深的0.618-0.7区间
- 可在配置文件中修改

### Q: 斐波那契回调一定有效吗？
**A**: **不一定！** 斐波那契回调是技术分析工具，不保证：
- 价格一定会回调到这些位置
- 回调到位后一定会反弹
- 不会跌破所有回调位

### Q: 金字塔建仓的优势是什么？
**A**:
- ✅ 分散风险，避免一次性买在高位
- ✅ 越跌越买，降低平均成本
- ✅ 控制仓位，留有余地
- ❌ 但如果持续下跌，仍会损失

### Q: 如何修改回调区间？
**A**: 编辑 `backend/config.py`:
```python
PYRAMID_CONFIG = {
    'stage1': {
        'fib_start': 0.382,  # 改为0.382-0.5
        'fib_end': 0.500,
        ...
    }
}
```

---

## 技术问题

### Q: 端口5000被占用怎么办？
**A**:
方法1 - 修改配置文件 `backend/config.py`:
```python
PORT = 5001  # 改为其他端口
```

方法2 - 使用环境变量:
```bash
PORT=5001 python backend/app.py
```

### Q: 跨域问题怎么解决？
**A**: 系统已使用 Flask-CORS 解决跨域问题。如仍有问题，检查：
1. 浏览器是否启用了特殊安全策略
2. 是否使用了代理服务器

### Q: 数据存储在哪里？
**A**:
- 订单记录: `data/orders.json`
- 可手动备份这个文件

### Q: 如何清除历史记录？
**A**:
方法1 - 删除文件:
```bash
rm data/orders.json
```

方法2 - 使用API:
```bash
curl -X DELETE http://localhost:5000/api/order/{order_id}
```

---

## 交易问题

### Q: 如何启用真实交易？
**A**:
1. 安装 XTTrader 客户端
2. 修改 `backend/config.py`:
   ```python
   MOCK_MODE = False
   XT_ACCOUNT_ID = '你的ID'
   XT_ACCOUNT_KEY = '你的密钥'
   ```
3. 修改 `backend/xt_trader.py` 实现真实交易逻辑

⚠️ **建议**: 先充分测试模拟模式！

### Q: 模拟模式和真实模式有什么区别？
**A**:
| 特性 | 模拟模式 | 真实模式 |
|------|---------|---------|
| 下单 | 不会真实下单 | 会真实下单 |
| 资金 | 不消耗真实资金 | 消耗真实资金 |
| 订单ID | MOCK_xxx | 真实订单号 |
| 风险 | 无风险 | 有风险 |

### Q: 订单会自动执行吗？
**A**: 不会！生成订单后需要：
1. 手动审核订单
2. 确认无误后点击"执行订单"
3. 模拟模式只会记录，不会真实执行

### Q: 可以部分执行订单吗？
**A**: 当前版本是批量执行。如需部分执行，建议：
1. 在生成订单后手动选择
2. 或修改代码实现单笔执行

---

## 数据问题

### Q: baostock的数据准确吗？
**A**:
- baostock 提供的是历史数据
- 延迟约15分钟
- 一般情况下准确，但可能有个别错误
- 建议与其他数据源交叉验证

### Q: 为什么当前价和实际不一致？
**A**:
- 数据有延迟（约15分钟）
- 使用的是收盘价，不是实时价
- 建议以实际行情为准

### Q: 可以用实时数据吗？
**A**:
需要接入实时数据源，如：
- Wind数据
- 同花顺API
- 其他付费数据接口

当前免费版使用baostock延迟数据。

---

## 性能问题

### Q: 分析速度慢怎么办？
**A**:
可能原因：
1. 网络慢 - baostock服务器在国内，国外访问可能慢
2. 数据量大 - 减少查询天数
3. 服务器性能 - 使用性能更好的服务器

### Q: 可以同时分析多只股票吗？
**A**:
当前版本是单次分析。如需批量分析：
1. 可以编写脚本循环调用
2. 或等待后续版本更新

---

## 错误处理

### Q: 出现"baostock登录失败"怎么办？
**A**:
1. 检查网络连接
2. 检查baostock是否正常安装
3. 重启服务
4. 查看日志文件

### Q: 订单生成失败怎么办？
**A**:
检查：
1. 股票代码是否正确
2. 金额是否大于0
3. 该股票是否有涨停记录
4. 查看后端日志: `backend/app.py` 控制台输出

### Q: 如何查看详细错误信息？
**A**:
1. 查看浏览器控制台 (F12)
2. 查看后端日志
3. 检查 `data/` 目录权限

---

## 其他问题

### Q: 可以用于港股或美股吗？
**A**:
不可以。当前版本只支持：
- 上海A股 (sh.xxx)
- 深圳A股 (sz.xxx)
- 创业板 (sz.3xxxxx)

### Q: 有手机版吗？
**A**:
当前是Web版，可以：
- 在手机浏览器访问
- 界面已适配移动端
- 但建议使用电脑操作

### Q: 开源吗？
**A**:
是的，MIT License。可以：
- 自由使用
- 修改代码
- 商业使用
- 但需保留版权声明

### Q: 如何贡献代码？
**A**:
欢迎提交：
- Bug报告: 提交Issue
- 功能建议: 提交Issue
- 代码改进: 提交Pull Request

### Q: 有技术支持吗？
**A**:
这是开源项目：
- 可以提交Issue
- 查看文档和示例
- 社区讨论
- 但不提供一对一技术支持

---

## 还有问题？

- 📖 查看 [README.md](README.md)
- 📝 查看 [EXAMPLES.md](EXAMPLES.md)
- 🐛 提交 [Issue](https://github.com/your-repo/issues)
- 💬 加入讨论组

**记住**: 这只是一个学习工具，不构成投资建议！
